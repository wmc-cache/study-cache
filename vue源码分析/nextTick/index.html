<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div name="wmc" id="box"></div>
  <script>
    let box = document.getElementById('box');
    let config = { attributes: true, attributeOldValue: true };

    /*
    * 在我们创建MutationObserver对象的时候可以传入一个函数，
    * 
    */
    let observer = new MutationObserver(mutations => {

      //console.log(mutations)
      // => 返回一个我们监听到的MutationRecord对象
      // MutationRecord对象 是我们每修改一个就会在数组里面追加一个
    })

    observer.observe(box, config) // 监听的 元素 和 配置项
    box.setAttribute('name', '张三')// 修改属性
    box.setAttribute('name', '张??')
    box.setAttribute('id', '123')

    let arr = observer.takeRecords()
    // 获取队列中未处理的，
    // 这个方法是同步执行，可以即时获取
    console.log(arr[0], arr)

    //observer.disconnect()




    box.style.background = 'black'// 修改样式

  </script>
</body>

</html>