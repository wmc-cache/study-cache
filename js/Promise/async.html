<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  协程
  进程 > 线程 > 协程
  协程的第一大优势是具有极高的执行效率，因为子程序切换不是线程切换，而是由程序自身控制，因此没有线程切换的开销，
  和多线程比，线程数量越多，协程的性能优势就越明显；
  协程的第二大优势是不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，在协程中控制共享资源不加锁，只需要判断状态就好了，
  所以执行效率比多线程高很多；
  协程看上去也是子程序，但执行过程中，在子程序内部可中断，然后转而执行别的子程序，
  在适当的时候再返回来接着执行，需要注意的是：在一个子程序中中断，去执行其他子程序，这并不是函数调用，有点类似于CPU的中断；

  用汽车和公路举个例子：js公路只是单行道（主线程），但是有很多车道（辅助线程）
  都可以汇入车流（异步任务完成后回调进入主线程的任务队列）；
  generator把js公路变成了多车道（协程实现），但是同一时间只有一个车道上的车能开（依然单线程），
  不过可以自由变道（移交控制权）；

  协程意思是多个线程互相协作，完成异步任务，运行流程大致如下：
  1）协程A开始执行；
  2）协程A执行到一半，进入暂停，执行权转移到协程B；
  3）一段时间后，协程B交还执行权；
  4）协程A恢复执行；
  协程是一个无优先级的子程序调度组件，允许子程序在特定的地点挂起恢复；
  线程包含于进程，协程包含于线程，只要内存足够，一个线程中可以有任意多个协程，
  但某一个时刻只能有一个协程在运行，多个协程分享该线程分配到的计算机资源；
  就实际使用理解来说，协程允许我们写同步代码的逻辑，却做着异步的事，避免了回调嵌套，使得代码逻辑清晰；
  何时挂起，唤醒协程：协程是为了使用异步的优势，异步操作是为了避免IO操作阻塞线程，
  那么协程挂起的时刻应该是当前协程发起异步操作的时候，而唤醒应该在其他协程退出，并且他的异步操作完成时；
  单线程内开启协程，一旦遇到io，从应用程序级别（而非操作系统）控制切换对比操作系统控制线程的切换，
  用户在单线程内控制协程的切换，优点如下：
  1）协程的切换开销更小，属于程序级别的切换，操作系统完全感知不到，因而更加轻量级；
  2）单线程内就可以实现并发的效果，最大限度地利用cpu；

  <script>




  </script>
</body>

</html>